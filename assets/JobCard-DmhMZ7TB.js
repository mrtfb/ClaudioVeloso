import{d as C,u as x,a as _,c as d,b as c,e,g as l,t as n,p as A,j as r,k as p,r as I,w as m,q as B,i as a,_ as M}from"./index-Q_K8XIyv.js";const T={class:"card"},J={class:"flex justify-between items-start mb-3"},S={class:"text-lg font-semibold text-gray-900"},V={class:"text-gray-600 mb-3 line-clamp-2"},z={class:"space-y-2 mb-4"},D={class:"flex items-center text-sm text-gray-600"},E={class:"flex items-center text-sm text-gray-600"},L={class:"flex items-center text-sm text-gray-600"},N={class:"flex items-center text-sm text-gray-600"},P={key:0,class:"flex gap-2"},R={key:1,class:"flex gap-2"},F=C({__name:"JobCard",props:{job:{},showClientActions:{type:Boolean,default:!1},showInstallerActions:{type:Boolean,default:!1}},setup(b){const o=b,i=x(),f=_(),g=d(()=>{switch(o.job.status){case"pending":return"badge-pending";case"accepted":return"badge-accepted";case"in_progress":return"badge-accepted";case"completed":return"badge-completed";case"cancelled":return"badge-cancelled";default:return"badge-pending"}}),h=d(()=>{switch(o.job.status){case"pending":return"Pendente";case"accepted":return"Aceito";case"in_progress":return"Em Andamento";case"completed":return"ConcluÃ­do";case"cancelled":return"Cancelado";default:return"Desconhecido"}}),k=d(()=>o.job.status==="pending"&&i.userType==="installer"&&o.showInstallerActions),j=d(()=>o.job.status==="accepted"&&o.job.installerId===i.user?.id&&o.showInstallerActions);function v(){i.user?.id&&f.acceptJob(o.job.id,i.user.id)}function w(t){return new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(t)}function y(t){return new Intl.DateTimeFormat("pt-PT",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)}return(t,s)=>{const u=I("RouterLink");return a(),c("div",T,[e("div",J,[e("h3",S,n(t.job.title),1),e("span",{class:A(["badge",g.value])},n(h.value),3)]),e("p",V,n(t.job.description),1),e("div",z,[e("div",D,[s[0]||(s[0]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),r(" "+n(t.job.location),1)]),e("div",E,[s[1]||(s[1]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),r(" "+n(t.job.duration)+"h de trabalho ",1)]),e("div",L,[s[2]||(s[2]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)),r(" "+n(w(t.job.payment)),1)]),e("div",N,[s[3]||(s[3]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4M8 7h8M8 7L6 9v10a2 2 0 002 2h8a2 2 0 002-2V9l-2-2"})],-1)),r(" Criado em "+n(y(t.job.createdAt)),1)])]),t.showInstallerActions?(a(),c("div",P,[k.value?(a(),c("button",{key:0,onClick:v,class:"btn btn-primary flex-1"}," Aceitar Trabalho ")):l("",!0),j.value?(a(),p(u,{key:1,to:{name:"work-session",params:{jobId:t.job.id}},class:"btn btn-success flex-1"},{default:m(()=>s[4]||(s[4]=[r(" Iniciar Trabalho ",-1)])),_:1,__:[4]},8,["to"])):l("",!0),t.job.status==="in_progress"&&t.job.installerId===B(i).user?.id?(a(),p(u,{key:2,to:{name:"work-session",params:{jobId:t.job.id}},class:"btn btn-primary flex-1"},{default:m(()=>s[5]||(s[5]=[r(" Continuar ",-1)])),_:1,__:[5]},8,["to"])):l("",!0)])):l("",!0),t.showClientActions&&t.job.status==="pending"?(a(),c("div",R,s[6]||(s[6]=[e("button",{class:"btn btn-secondary flex-1"}," Editar ",-1),e("button",{class:"btn btn-danger flex-1"}," Cancelar ",-1)]))):l("",!0)])}}}),U=M(F,[["__scopeId","data-v-4f304754"]]);export{U as J};
