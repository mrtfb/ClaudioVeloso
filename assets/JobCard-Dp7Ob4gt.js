import{d as T,u as B,a as D,c as l,b as c,p as d,e,t as n,g as r,F as p,k as j,r as J,w as m,j as h,q as S,x as E,s as F,i as a,_ as N}from"./index-KUVLP361.js";const R={class:"status-icon"},P={class:"job-content"},V={class:"job-header"},q={class:"job-title"},L={class:"job-payment"},U={class:"job-details"},z={class:"job-location"},M={class:"job-duration"},$={key:0,class:"job-scheduled"},G={class:"job-description"},H=T({__name:"JobCard",props:{job:{},showClientActions:{type:Boolean,default:!1},showInstallerActions:{type:Boolean,default:!1}},setup(g){const o=g,f=F(),i=B(),C=D(),u=l(()=>{switch(o.job.status){case"pending":return"badge-pending";case"accepted":return"badge-accepted";case"in_progress":return"badge-accepted";case"completed":return"badge-completed";case"cancelled":return"badge-cancelled";default:return"badge-pending"}}),k=l(()=>{switch(o.job.status){case"pending":return"Pendente";case"accepted":return"Aceito";case"in_progress":return"Em Andamento";case"completed":return"Conclu√≠do";case"cancelled":return"Cancelado";default:return"Desconhecido"}}),w=l(()=>o.job.status==="pending"&&i.userType==="installer"&&o.showInstallerActions),y=l(()=>o.job.status==="accepted"&&o.job.installerId===i.user?.id&&o.showInstallerActions);function v(){i.user?.id&&C.acceptJob(o.job.id,i.user.id)}function I(){f.push({name:"job-details",params:{jobId:o.job.id}})}function A(t){return new Intl.NumberFormat("pt-PT",{style:"currency",currency:"EUR"}).format(t)}function _(t){return new Intl.DateTimeFormat("pt-PT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}return(t,s)=>{const b=J("RouterLink");return a(),c("div",{class:d(["job-card-compact",{clickable:t.showInstallerActions&&t.job.status==="pending"}]),onClick:s[1]||(s[1]=K=>t.showInstallerActions&&t.job.status==="pending"?I():null)},[e("div",{class:d(["status-square",u.value])},[e("span",R,n(t.job.title.charAt(0).toUpperCase()),1)],2),e("div",P,[e("div",V,[e("h3",q,n(t.job.title),1),e("span",L,n(A(t.job.payment)),1)]),e("div",U,[e("span",z,"üìç "+n(t.job.location),1),e("span",M,"‚è±Ô∏è "+n(t.job.duration)+"h",1),t.job.scheduledDate?(a(),c("span",$,"üìÖ "+n(_(t.job.scheduledDate)),1)):r("",!0),e("span",{class:d(["job-status",u.value])},n(k.value),3)]),e("p",G,n(t.job.description),1)]),e("div",{class:"job-actions",onClick:s[0]||(s[0]=E(()=>{},["stop"]))},[t.showInstallerActions?(a(),c(p,{key:0},[w.value?(a(),c("button",{key:0,onClick:v,class:"action-btn accept-btn",title:"Aceitar Trabalho"}," ‚úì ")):r("",!0),y.value?(a(),j(b,{key:1,to:{name:"work-session",params:{jobId:t.job.id}},class:"action-btn start-btn",title:"Iniciar Trabalho"},{default:m(()=>s[2]||(s[2]=[h(" ‚ñ∂ ",-1)])),_:1,__:[2]},8,["to"])):r("",!0),t.job.status==="in_progress"&&t.job.installerId===S(i).user?.id?(a(),j(b,{key:2,to:{name:"work-session",params:{jobId:t.job.id}},class:"action-btn continue-btn",title:"Continuar"},{default:m(()=>s[3]||(s[3]=[h(" ‚Üó ",-1)])),_:1,__:[3]},8,["to"])):r("",!0)],64)):r("",!0),t.showClientActions&&t.job.status==="pending"?(a(),c(p,{key:1},[s[4]||(s[4]=e("button",{class:"action-btn edit-btn",title:"Editar"}," ‚úèÔ∏è ",-1)),s[5]||(s[5]=e("button",{class:"action-btn cancel-btn",title:"Cancelar"}," ‚úï ",-1))],64)):r("",!0)])],2)}}}),Q=N(H,[["__scopeId","data-v-65c26235"]]);export{Q as J};
